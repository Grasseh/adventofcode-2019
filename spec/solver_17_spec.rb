require_relative '../solvers/solver_17.rb'
require_relative './spec_helper.rb'
require_relative '../solvers/lib/opcode.rb'

RSpec.configure do |c|
  c.include Helpers
end

RSpec.describe Solvers::Solver17 do
  before(:each) do
    @solver = Solvers::Solver17.new
  end

  # ..#..........
  # ..#..........
  # #######...###
  # #.#...#...#.#
  # #############
  # ..#...#...#..
  # ..#####...^..

  context 'Problem A' do
    it 'solves the base example' do
      expect(@solver.solve_a(
        wrap_line_input([
          '104, 46, 104, 46, 104, 35, 104, 46, 104, 46, 104, 46,',
          '104, 46, 104, 46, 104, 46, 104, 46, 104, 46, 104, 46,',
          '104, 46, 104, 10,',
          '104, 46, 104, 46, 104, 35, 104, 46, 104, 46, 104, 46,',
          '104, 46, 104, 46, 104, 46, 104, 46, 104, 46, 104, 46,',
          '104, 46, 104, 10,',
          '104, 35, 104, 35, 104, 35, 104, 35, 104, 35, 104, 35,',
          '104, 35, 104, 46, 104, 46, 104, 46, 104, 35, 104, 35,',
          '104, 35, 104, 10,',
          '104, 35, 104, 46, 104, 35, 104, 46, 104, 46, 104, 46,',
          '104, 35, 104, 46, 104, 46, 104, 46, 104, 35, 104, 46,',
          '104, 35, 104, 10,',
          '104, 35, 104, 35, 104, 35, 104, 35, 104, 35, 104, 35,',
          '104, 35, 104, 35, 104, 35, 104, 35, 104, 35, 104, 35,',
          '104, 35, 104, 10,',
          '104, 46, 104, 46, 104, 35, 104, 46, 104, 46, 104, 46,',
          '104, 35, 104, 46, 104, 46, 104, 46, 104, 35, 104, 46,',
          '104, 46, 104, 10,',
          '104, 46, 104, 46, 104, 35, 104, 35, 104, 35, 104, 35,',
          '104, 35, 104, 46, 104, 46, 104, 46, 104, 94, 104, 46,',
          '104, 46, 104, 10, 99',
        ].join('')),
        print: true
      )).to eq(76)
    end
  end
end
